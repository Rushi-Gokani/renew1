{% doc %}
  @prompt
    Create a custom Shopify section with a two-column layout where the left column (30% width) contains a heading, paragraph, and optional button/CTA, and the right column (70% width) contains a single large image. The design should be minimal, modern, and clean with an Apple-like aesthetic. The section background should be white, text vertically centered, and on mobile the layout should stack with the image on top and text below. Use generous padding (80px top and bottom on desktop, 40px on mobile). The image should scale proportionally without distortion. The text block should have configurable settings for title, description, and button label/link. The image should be configurable via the theme editor.
{% enddoc %}
{% assign ai_gen_id = block.id | replace: '_', '' | downcase %}

{% style %}
  .ai-two-column-section-{{ ai_gen_id }} {
    background-color: #ffffff;
    padding: 80px 0;
    width: 100%;
  }

  .ai-two-column-container-{{ ai_gen_id }} {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    align-items: center;
    gap: 60px;
  }

  .ai-two-column-text-{{ ai_gen_id }} {
    flex: 0 0 30%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 24px;
  }

  .ai-two-column-heading-{{ ai_gen_id }} {
    font-family: {{ settings.type_heading_font.family }}, {{ settings.type_heading_font.fallback_families }};
    font-weight: {{ settings.type_heading_font.weight }};
    font-size: {{ block.settings.heading_size }}px;
    line-height: 1.2;
    color: {{ block.settings.text_color }};
    margin: 0;
    letter-spacing: -0.02em;
  }

  .ai-two-column-description-{{ ai_gen_id }} {
    font-family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    font-weight: {{ settings.type_body_font.weight }};
    font-size: {{ block.settings.text_size }}px;
    line-height: 1.5;
    color: {{ block.settings.text_color }};
    margin: 0;
    opacity: 0.8;
  }

  .ai-two-column-button-{{ ai_gen_id }} {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 32px;
    background-color: {{ block.settings.button_background_color }};
    color: {{ block.settings.button_text_color }};
    text-decoration: none;
    border-radius: {{ block.settings.button_border_radius }}px;
    font-family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    font-weight: 500;
    font-size: 16px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    align-self: flex-start;
  }

  .ai-two-column-button-{{ ai_gen_id }}:hover {
    background-color: {{ block.settings.button_hover_background_color }};
    color: {{ block.settings.button_hover_text_color }};
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .ai-two-column-image-{{ ai_gen_id }} {
    flex: 0 0 70%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .ai-two-column-image-{{ ai_gen_id }} img {
    width: auto;
    max-width: 100%;
    height: auto;
    max-height: {{ block.settings.image_max_height }}px;
    object-fit: contain;
    border-radius: {{ block.settings.image_border_radius }}px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .ai-two-column-image-placeholder-{{ ai_gen_id }} {
    width: 100%;
    aspect-ratio: 16/6;
    background-color: #f5f5f7;
    border-radius: {{ block.settings.image_border_radius }}px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
  }

  .ai-two-column-image-placeholder-{{ ai_gen_id }} svg {
    width: 80px;
    height: 80px;
    opacity: 0.3;
    color: #86868b;
  }

  .ai-two-column-empty-state-{{ ai_gen_id }} {
    position: absolute;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 14px;
    color: #86868b;
    text-align: center;
    pointer-events: none;
  }

  @media screen and (max-width: 768px) {
    .ai-two-column-section-{{ ai_gen_id }} {
      padding: 40px 0;
    }

    .ai-two-column-container-{{ ai_gen_id }} {
      flex-direction: column;
      gap: 40px;
      padding: 0 16px;
    }

    .ai-two-column-text-{{ ai_gen_id }} {
      flex: none;
      order: 2;
      text-align: center;
    }

    .ai-two-column-image-{{ ai_gen_id }} {
      flex: none;
      order: 1;
      width: 100%;
    }

    .ai-two-column-image-{{ ai_gen_id }} img {
      max-height: {{ block.settings.image_max_height | times: 0.7 }}px;
    }

    .ai-two-column-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.8 }}px;
    }

    .ai-two-column-description-{{ ai_gen_id }} {
      font-size: {{ block.settings.text_size | times: 0.9 }}px;
    }

    .ai-two-column-button-{{ ai_gen_id }} {
      padding: 14px 28px;
      font-size: 15px;
      align-self: center;
    }
  }

  @media screen and (max-width: 480px) {
    .ai-two-column-container-{{ ai_gen_id }} {
      padding: 0 12px;
    }

    .ai-two-column-heading-{{ ai_gen_id }} {
      font-size: {{ block.settings.heading_size | times: 0.7 }}px;
    }
  }
{% endstyle %}

<div class="ai-two-column-section-{{ ai_gen_id }}" {{ block.shopify_attributes }}>
  <div class="ai-two-column-container-{{ ai_gen_id }}">
    <div class="ai-two-column-text-{{ ai_gen_id }}">
      {% if block.settings.heading != blank %}
        <h2 class="ai-two-column-heading-{{ ai_gen_id }}">{{ block.settings.heading }}</h2>
      {% endif %}

      {% if block.settings.description != blank %}
        <div class="ai-two-column-description-{{ ai_gen_id }}">{{ block.settings.description }}</div>
      {% endif %}

      {% if block.settings.button_label != blank and block.settings.button_link != blank %}
        <a href="{{ block.settings.button_link }}" class="ai-two-column-button-{{ ai_gen_id }}">
          {{ block.settings.button_label }}
        </a>
      {% endif %}
    </div>

    <div class="ai-two-column-image-{{ ai_gen_id }}">
      {% if block.settings.image %}
        <img
          src="{{ block.settings.image | image_url: width: 1400 }}"
          alt="{{ block.settings.image.alt | escape }}"
          loading="lazy"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.height }}"
        >
      {% else %}
        <div class="ai-two-column-image-placeholder-{{ ai_gen_id }}">
          {{ 'image' | placeholder_svg_tag }}
          <div class="ai-two-column-empty-state-{{ ai_gen_id }}">
            Add an image to complete your section
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Two column section",
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Discover something amazing"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Create beautiful, modern layouts with our clean two-column design. Perfect for showcasing your products or services with elegant simplicity."
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "Learn more"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 24,
      "max": 72,
      "step": 2,
      "unit": "px",
      "label": "Heading size",
      "default": 48
    },
    {
      "type": "range",
      "id": "text_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Text size",
      "default": 18
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "Button style"
    },
    {
      "type": "color",
      "id": "button_background_color",
      "label": "Button background",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button text",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_hover_background_color",
      "label": "Button hover background",
      "default": "#333333"
    },
    {
      "type": "color",
      "id": "button_hover_text_color",
      "label": "Button hover text",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Button border radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "Image style"
    },
    {
      "type": "range",
      "id": "image_max_height",
      "min": 120,
      "max": 600,
      "step": 10,
      "unit": "px",
      "label": "Image max height (desktop)",
      "default": 280
    },
    {
      "type": "range",
      "id": "image_border_radius",
      "min": 0,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Image border radius",
      "default": 12
    }
  ],
  "presets": [
    {
      "name": "Two column section"
    }
  ]
}
{% endschema %}